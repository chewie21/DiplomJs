!function(e){var t={};function o(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r=()=>{const e=document.querySelector("#club-select-ul");e.style.zIndex="9999";const t=r=>{r.target.closest("#club-select-title")&&(e.style.display="block",document.removeEventListener("click",t),document.addEventListener("click",o))},o=r=>{!r.target.closest("#club-select-title")&&r.target.closest("#club-select-ul")||(e.style.display="none",document.removeEventListener("click",o),document.addEventListener("click",t))};document.addEventListener("click",t)};var s=()=>{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift");e.style.display="none",t.style.display="block",t.addEventListener("click",e=>{(e.target.closest(".close-btn")||!e.target.closest(".form-content")||e.target.closest("img"))&&(t.style.display="none")})};var l=(e,t)=>{const o=document.querySelector(""+e),r=o.querySelectorAll("input"),s=document.getElementById("thanks");let l;const n=e=>{(e.target.closest(".overlay")||e.target.closest(".close_icon")||e.target.closest(".close-btn"))&&(l.removeEventListener("click",n),o.removeEventListener("submit",d),l.style.display="none",l.querySelector("form").reset(),r.forEach(e=>e.classList.remove("invalid")))},i=e=>{(e.target.closest(".overlay")||e.target.closest(".close_icon")||e.target.closest(".close-btn"))&&(s.style.display="none",s.querySelector(".errorMessage")&&s.querySelector(".errorMessage").remove(),s.querySelector("#successMessage").style.display="none",s.removeEventListener("click",i))},c=()=>{setTimeout(()=>{s.style.display="none",s.querySelector(".errorMessage")&&s.querySelector(".errorMessage").remove(),s.querySelector("#successMessage").style.display="none",s.removeEventListener("click",i)},5e3)},a=e=>{const t=document.createElement("h4");"loading"===e?(t.classList.add("loadingMessage"),t.style="margin: auto;\n                            color: #ffd11a;\n                            background-color: #1e1c34;",t.textContent="Загрузка...",s.querySelector(".form-content").prepend(t)):"success"===e?(s.querySelector(".loadingMessage").remove(),s.querySelector("#successMessage").style.display="block"):"error"===e&&(s.querySelector(".loadingMessage").remove(),t.classList.add("errorMessage"),t.style="margin: auto;\n                            color: #ffd11a;\n                            background-color: #1e1c34;",t.textContent="Ошибка... Попробуйте еще раз",s.querySelector(".form-content").prepend(t))};t&&(l=document.querySelector(""+t),l.style.display="block",l.addEventListener("click",n));const d=e=>{if(e.preventDefault(),(e=>{let t={};return e.forEach((e,o)=>{if(e.placeholder){if("Ваш номер телефона..."===e.placeholder){const r=()=>{e.removeEventListener("input",r);/8\d{10}/.test(e.value)?(e.classList.remove("invalid"),t[o]=!0):(e.classList.add("invalid"),e.addEventListener("input",r),t[o]=!1)};r()}if("Ваше имя..."===e.placeholder){const r=()=>{e.removeEventListener("input",r),""!==e.value?(e.classList.remove("invalid"),t[o]=!0):(e.classList.add("invalid"),e.addEventListener("input",r),t[o]=!0)};r()}}else if(e.type){if("checkbox"===e.type)if(e.checked)t[o]=!0;else{t[o]=!1;(()=>{let t=0;!function o(){t>-8?(t--,document.querySelector(`label[for=${e.id}]`).style.top=t+"px",requestAnimationFrame(o)):-8===t&&(document.querySelector(`label[for=${e.id}]`).style.top="0px")}()})()}if("radio"===e.type&&!0!==t.radio)if(e.checked)t.radio=!0;else{t.radio=!1;(()=>{let t=0;!function o(){t>-8?(t--,document.querySelector(`label[for=${e.id}]`).style.top=t+"px",requestAnimationFrame(o)):-8===t&&(document.querySelector(`label[for=${e.id}]`).style.top="0px")}()})()}}}),!Object.values(t).includes(!1)})(r)){const e=new FormData(o);o.reset();let r={};e.forEach((e,t)=>{r[t]=e}),t&&(l.style.display="none",l.removeEventListener("click",n),o.removeEventListener("submit",d)),s.style.display="block",a("loading"),s.addEventListener("click",i),((e,t,o)=>{fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}).then(e=>{if(200!==e.status)throw o;t()}).catch(o)})(r,()=>{a("success"),c()},()=>{a("error"),c()})}};o.addEventListener("submit",d)};var n=()=>{const e=document.getElementById("cards"),t=e.querySelector("#price-total"),o=e.querySelector("#promoCode"),r=e.querySelector(".card_order");let s;const n={mozaika:{1:1999,6:9900,9:13900,12:19900},schelkovo:{1:2999,6:14990,9:21990,12:24990}},i={"ТЕЛО2020":.3,"ПРИМЕР":.5},c={mozaika:!1,schelkovo:!1},a={1:!1,6:!1,9:!1,12:!1},d=document.createElement("input");d.type="hidden",d.name="price",r.append(d);const u=()=>{let e,o;for(let t in c)!0===c[t]&&(e=t);for(let e in a)!0===a[e]&&(o=e);s=n[e][o],t.textContent=s,d.value=s},p=()=>{const t=e.querySelectorAll('input[name="club-name"]'),o=e.querySelectorAll('input[name="card-type"]');t.forEach(e=>{e.checked&&(c[e.defaultValue]=!0),e.checked||(c[e.defaultValue]=!1)}),o.forEach(e=>{e.checked&&(a[e.defaultValue]=!0),e.checked||(a[e.defaultValue]=!1)}),u()};p();const v=()=>{const e=s;let r;for(let l in i){if(l===o.value)return r=e-e*i[l],t.textContent=Math.floor(r),void(d.value=Math.floor(r));t.textContent=s,d.value=s}};o.addEventListener("input",v),e.addEventListener("click",e=>{let t=e.target;if(t.closest("input"))if("card-type"===t.name)for(let e in a)e===t.defaultValue&&(a[e]=!0),e!==t.defaultValue&&(a[e]=!1);else if("club-name"===t.name)for(let e in c)e===t.defaultValue&&(c[e]=!0),e!==t.defaultValue&&(c[e]=!1);u(),v()}),l("#card_order"),r.addEventListener("reset",()=>{setTimeout(()=>p(),1e3)})};var i=e=>{const t=document.querySelector(""+e),o=t.querySelector(".wrapperDots"),r=t.querySelectorAll(".slide");r[0].classList.add("activeSlide");let s,l=0;(()=>{const e=t.querySelector(".dots");for(let o=0;o<r.length;o++)e.insertAdjacentHTML("beforeend",'<li class="dot"></li>'),0===o&&t.querySelector(".dot").classList.add("dot-active")})();const n=t.querySelectorAll(".dot"),i=(e,t,o)=>{e[t].classList.remove(o)},c=(e,t,o)=>{e[t].classList.add(o)},a=()=>{i(r,l,"activeSlide"),i(n,l,"dot-active"),l++,l>=r.length&&(l=0),c(r,l,"activeSlide"),c(n,l,"dot-active")},d=()=>{s=setInterval(a,3e3)};o.addEventListener("mouseover",e=>{(e.target.matches(".gallery-btn")||e.target.matches(".dot"))&&clearInterval(s)}),o.addEventListener("mouseout",e=>{(e.target.matches(".gallery-btn")||e.target.matches(".dot"))&&d()}),o.addEventListener("click",e=>{e.preventDefault();let t=e.target;t.matches("#arrow-right, #arrow-left, .dot")&&(i(r,l,"activeSlide"),i(n,l,"dot-active"),t.matches("#arrow-right")?l++:t.matches("#arrow-left")?l--:t.matches(".dot")&&n.forEach((e,o)=>{e===t&&(l=o)}),l>=r.length&&(l=0),l<0&&(l=r.length-1),c(r,l,"activeSlide"),c(n,l,"dot-active"))}),d()};var c=class{constructor({main:e,wrap:t,next:o,prev:r,slidesToShow:s}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=this.main.querySelector(o),this.prev=this.main.querySelector(r),this.option={position:0,slidesToShow:s}}init(){this.addClass(),this.controllService()}addClass(){this.main.classList.add("servicesWrapper"),this.wrap.classList.add("servicesSlider");for(const e of this.slides)e.classList.add("servicesSlide")}controllService(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(e){e.preventDefault(),--this.option.position,this.option.position<0&&(this.option.position=this.slides.length-this.option.slidesToShow),this.wrap.style.transform=`translateX(-${this.option.position*(100/this.option.slidesToShow)}%)`}nextSlider(e){e.preventDefault(),++this.option.position,this.option.position>this.slides.length-this.option.slidesToShow&&(this.option.position=0),this.wrap.style.transform=`translateX(-${this.option.position*(100/this.option.slidesToShow)}%)`}newClass(e){for(const t of this.slides)t.classList.add(e)}removeClass(e){for(const t of this.slides)t.classList.remove(e)}};document.querySelectorAll("input").forEach(e=>{"Ваш номер телефона..."===e.placeholder?e.addEventListener("input",()=>{e.value=e.value.replace(/[^\d]/g,""),e.value.length>=11&&(e.value=e.value.substring(0,11))}):"Ваше имя..."===e.placeholder&&e.addEventListener("input",()=>{e.value=e.value.replace(/[^А-Яа-я ]/g,"")})}),r(),document.addEventListener("click",e=>{let t=e.target;t.closest("#visit-btn")&&l("#form2","#free_visit_form"),t.closest("#callback-header")&&l("#form1","#callback_form"),t.closest(".fixed-gift")&&s(),t.closest("#totop")&&(e.preventDefault(),document.querySelector(".header-main").scrollIntoView({behavior:"smooth",block:"start"})),t.closest(".scrollMenu")&&(e.preventDefault(),document.querySelector(""+t.hash).scrollIntoView({behavior:"smooth",block:"start"})),(t.closest(".close-menu-btn")||t.closest(".scrollMenu"))&&(document.querySelector(".popup-menu").style.display="none"),t.closest("#burger")&&(document.querySelector(".popup-menu").style.display="flex")}),i(".head-slider"),i("#gallery");const a=new c({main:".services-wrapper",wrap:".services-slider",next:"#arrow-right",prev:"#arrow-left",slidesToShow:5});a.init(),document.addEventListener("scroll",()=>{pageYOffset>=800&&(document.querySelector("#totop").style.display="block"),pageYOffset<800&&(document.querySelector("#totop").style.display="none")});const d=()=>{pageYOffset>=186&&document.querySelector(".top-menu").classList.add("fixed"),pageYOffset<186&&document.querySelector(".top-menu").classList.remove("fixed")};window.innerWidth<=767&&(window.addEventListener("scroll",d),a.option.slidesToShow=3,a.option.position=0,a.newClass("miniServicesSlide")),window.addEventListener("resize",()=>{window.removeEventListener("scroll",d),window.innerWidth<=767?(window.addEventListener("scroll",d),a.option.slidesToShow=3,a.option.position=0,a.newClass("miniServicesSlide")):(document.querySelector(".top-menu").classList.remove("fixed"),a.option.slidesToShow=5,a.option.position=0,a.removeClass("miniServicesSlide"))}),l("#banner-form"),l("#footer_form"),document.querySelector(".card_order_second")&&l(".card_order_second"),document.querySelector(".card_order")&&n()}]);