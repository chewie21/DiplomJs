!function(e){var t={};function o(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(l,r,function(t){return e[t]}.bind(null,r));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var l=()=>{const e=document.querySelector("#club-select-ul");e.style.zIndex="9999";const t=l=>{l.target.closest("#club-select-title")&&(console.log("block"),e.style.display="block",document.removeEventListener("click",t),document.addEventListener("click",o))},o=l=>{!l.target.closest("#club-select-title")&&l.target.closest("#club-select-ul")||(console.log("none"),e.style.display="none",document.removeEventListener("click",o),document.addEventListener("click",t))};document.addEventListener("click",t)};var r=()=>{const e=document.querySelector(".fixed-gift"),t=document.querySelector("#gift");e.style.display="none",t.style.display="block",t.addEventListener("click",e=>{(e.target.closest(".close-btn")||!e.target.closest(".form-content")||e.target.closest("img"))&&(t.style.display="none")})};var n=(e,t)=>{const o=document.querySelector(""+e),l=o.querySelectorAll("input"),r=document.getElementById("thanks");let n;const c=e=>{(e.target.closest(".overlay")||e.target.closest(".close_icon")||e.target.closest(".close-btn"))&&(n.style.display="none",n.removeEventListener("click",s))},s=e=>{(e.target.closest(".overlay")||e.target.closest(".close_icon")||e.target.closest(".close-btn"))&&(r.style.display="none",r.querySelector(".errorMessage")&&r.querySelector(".errorMessage").remove(),r.querySelector("#successMessage").style.display="none",r.removeEventListener("click",s))},a=e=>{const t=document.createElement("h4");"loading"===e?(t.classList.add("loadingMessage"),t.style="margin: auto;\n                            color: #ffd11a;\n                            background-color: #1e1c34;",t.textContent="Загрузка...",r.querySelector(".form-content").prepend(t)):"success"===e?(r.querySelector(".loadingMessage").remove(),r.querySelector("#successMessage").style.display="block"):"error"===e&&(r.querySelector(".loadingMessage").remove(),t.classList.add("errorMessage"),t.style="margin: auto;\n                            color: #ffd11a;\n                            background-color: #1e1c34;",t.textContent="Ошибка... Попробуйте еще раз",r.querySelector(".form-content").prepend(t))};t&&(n=document.querySelector(""+t),n.style.display="block",n.addEventListener("click",c)),o.addEventListener("submit",e=>{if(e.preventDefault(),(e=>{let t={};return e.forEach((e,o)=>{if(e.placeholder){if("Ваш номер телефона..."===e.placeholder){const l=()=>{e.removeEventListener("input",l);/(\+7|8)\d{10}/.test(e.value)?(console.log("Phone - true"),e.classList.remove("invalid"),t[o]=!0):(console.log("Phone - false"),e.classList.add("invalid"),e.addEventListener("input",l),t[o]=!1)};l()}if("Ваше имя..."===e.placeholder){const l=()=>{e.removeEventListener("input",l),""!==e.value?(console.log("Name - true"),e.classList.remove("invalid"),t[o]=!0):(console.log("name - false"),e.classList.add("invalid"),e.addEventListener("input",l),t[o]=!0)};l()}}else if(e.type){if("checkbox"===e.type)if(e.checked)console.log("check"),t[o]=!0;else{t[o]=!1;(()=>{let t=0;!function o(){t>-8?(t--,document.querySelector(`label[for=${e.id}]`).style.top=t+"px",requestAnimationFrame(o)):-8===t&&(document.querySelector(`label[for=${e.id}]`).style.top="0px")}()})()}if("radio"===e.type&&!0!==t.radio)if(e.checked)console.log("check"),t.radio=!0;else{console.log("notcheck"),t.radio=!1;(()=>{let t=0;!function o(){t>-8?(t--,document.querySelector(`label[for=${e.id}]`).style.top=t+"px",requestAnimationFrame(o)):-8===t&&(document.querySelector(`label[for=${e.id}]`).style.top="0px")}()})()}}}),!Object.values(t).includes(!1)})(l)){const e=new FormData(o);o.reset();let l={};e.forEach((e,t)=>{l[t]=e}),t&&(n.style.display="none"),r.style.display="block",a("loading"),r.addEventListener("click",s),((e,t,o)=>{fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}).then(e=>{if(200!==e.status)throw o;t()}).catch(o)})(l,()=>{a("success")},()=>{a("error")})}})};document.querySelectorAll("input").forEach(e=>{"Ваш номер телефона..."===e.placeholder?e.addEventListener("input",()=>{e.value=e.value.replace(/[^\d]/g,"")}):"Ваше имя..."===e.placeholder&&e.addEventListener("input",()=>{e.value=e.value.replace(/[^А-Яа-я ]/g,"")})}),l(),document.addEventListener("click",e=>{console.log("click");let t=e.target;t.closest("#visit-btn")&&n("#form2","#free_visit_form"),t.closest("#callback-header")&&n("#form1","#callback_form"),t.closest(".fixed-gift")&&r(),t.closest("#totop")&&(e.preventDefault(),document.querySelector(".header-main").scrollIntoView({behavior:"smooth",block:"start"}))}),document.addEventListener("scroll",()=>{pageYOffset>=800&&(document.querySelector("#totop").style.display="block"),pageYOffset<800&&(document.querySelector("#totop").style.display="none")}),n("#banner-form"),n("#footer_form"),n("#card_order")}]);